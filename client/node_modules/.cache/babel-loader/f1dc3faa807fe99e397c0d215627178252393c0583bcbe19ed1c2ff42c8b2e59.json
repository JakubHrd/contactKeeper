{"ast":null,"code":"// src/pages/AddContact.js\nimport React from'react';import axios from'axios';import{Container,Typography,Box}from'@mui/material';import{useNavigate}from'react-router-dom';import{useUser}from'../context/UserContext';import ContactForm from'../components/ContactForm';// Ujisti se, že cesta je správná\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddContact=()=>{const{userId}=useUser();const navigate=useNavigate();const handleSubmit=async newContact=>{if(!userId){console.error('Uživatelské ID není dostupné.');return;}try{const contactData={userId,...newContact};const response=await axios.post('http://localhost:5000/api/newContact',contactData,{headers:{'Content-Type':'application/json'}});console.log('Kontakt přidán:',response.data);navigate('/dashboard');// Přesměrování na dashboard po úspěšném přidání\n}catch(error){console.error('Chyba při přidávání kontaktu:',error);alert('Došlo k chybě při přidávání kontaktu. Zkontrolujte konzoli pro více informací.');}};return/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"md\",children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',alignItems:'center',mt:8},children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"P\\u0159idat kontakt\"}),/*#__PURE__*/_jsx(ContactForm,{initialContact:null,onSubmit:handleSubmit,buttonText:\"P\\u0159idat kontakt\"})]})});};export default AddContact;","map":{"version":3,"names":["React","axios","Container","Typography","Box","useNavigate","useUser","ContactForm","jsx","_jsx","jsxs","_jsxs","AddContact","userId","navigate","handleSubmit","newContact","console","error","contactData","response","post","headers","log","data","alert","component","maxWidth","children","sx","display","flexDirection","alignItems","mt","variant","initialContact","onSubmit","buttonText"],"sources":["C:/Users/jacko/Desktop/Osobní projekty/react/contactkeeper/client/src/components/ContactForm.js"],"sourcesContent":["// src/pages/AddContact.js\r\nimport React from 'react';\r\nimport axios from 'axios';\r\nimport { Container, Typography, Box } from '@mui/material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useUser } from '../context/UserContext';\r\nimport ContactForm from '../components/ContactForm'; // Ujisti se, že cesta je správná\r\n\r\nconst AddContact = () => {\r\n    const { userId } = useUser();\r\n    const navigate = useNavigate();\r\n\r\n    const handleSubmit = async (newContact) => {\r\n        if (!userId) {\r\n            console.error('Uživatelské ID není dostupné.');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const contactData = {\r\n                userId,\r\n                ...newContact,\r\n            };\r\n\r\n            const response = await axios.post('http://localhost:5000/api/newContact', contactData, {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n            });\r\n\r\n            console.log('Kontakt přidán:', response.data);\r\n            navigate('/dashboard'); // Přesměrování na dashboard po úspěšném přidání\r\n        } catch (error) {\r\n            console.error('Chyba při přidávání kontaktu:', error);\r\n            alert('Došlo k chybě při přidávání kontaktu. Zkontrolujte konzoli pro více informací.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"md\">\r\n            <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', mt: 8 }}>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Přidat kontakt\r\n                </Typography>\r\n                <ContactForm\r\n                    initialContact={null}\r\n                    onSubmit={handleSubmit}\r\n                    buttonText=\"Přidat kontakt\"\r\n                />\r\n            </Box>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default AddContact;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,UAAU,CAAEC,GAAG,KAAQ,eAAe,CAC1D,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,OAAO,KAAQ,wBAAwB,CAChD,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAEC,MAAO,CAAC,CAAGP,OAAO,CAAC,CAAC,CAC5B,KAAM,CAAAQ,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAU,YAAY,CAAG,KAAO,CAAAC,UAAU,EAAK,CACvC,GAAI,CAACH,MAAM,CAAE,CACTI,OAAO,CAACC,KAAK,CAAC,+BAA+B,CAAC,CAC9C,OACJ,CAEA,GAAI,CACA,KAAM,CAAAC,WAAW,CAAG,CAChBN,MAAM,CACN,GAAGG,UACP,CAAC,CAED,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAnB,KAAK,CAACoB,IAAI,CAAC,sCAAsC,CAAEF,WAAW,CAAE,CACnFG,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CAEFL,OAAO,CAACM,GAAG,CAAC,iBAAiB,CAAEH,QAAQ,CAACI,IAAI,CAAC,CAC7CV,QAAQ,CAAC,YAAY,CAAC,CAAE;AAC5B,CAAE,MAAOI,KAAK,CAAE,CACZD,OAAO,CAACC,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACrDO,KAAK,CAAC,gFAAgF,CAAC,CAC3F,CACJ,CAAC,CAED,mBACIhB,IAAA,CAACP,SAAS,EAACwB,SAAS,CAAC,MAAM,CAACC,QAAQ,CAAC,IAAI,CAAAC,QAAA,cACrCjB,KAAA,CAACP,GAAG,EAACyB,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAQ,CAAEC,UAAU,CAAE,QAAQ,CAAEC,EAAE,CAAE,CAAE,CAAE,CAAAL,QAAA,eAC/EnB,IAAA,CAACN,UAAU,EAACuB,SAAS,CAAC,IAAI,CAACQ,OAAO,CAAC,IAAI,CAAAN,QAAA,CAAC,qBAExC,CAAY,CAAC,cACbnB,IAAA,CAACF,WAAW,EACR4B,cAAc,CAAE,IAAK,CACrBC,QAAQ,CAAErB,YAAa,CACvBsB,UAAU,CAAC,qBAAgB,CAC9B,CAAC,EACD,CAAC,CACC,CAAC,CAEpB,CAAC,CAED,cAAe,CAAAzB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}